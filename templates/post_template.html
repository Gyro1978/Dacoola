<!-- templates/post_template.html (1/1) - COMPLETE -->
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WSLDZ2QB');</script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- *** CORE SEO & Page Info *** -->
    <title>{{ PAGE_TITLE }} - Dacoola</title>
    <meta name="description" content="{{ META_DESCRIPTION }}">
    {% if AUTHOR_NAME %}<meta name="author" content="{{ AUTHOR_NAME }}">{% endif %}
    {% if META_KEYWORDS %}<meta name="keywords" content="{{ META_KEYWORDS }}">{% endif %}

    <!-- *** CANONICAL URL *** -->
    <link rel="canonical" href="{{ CANONICAL_URL }}">

    <!-- *** OPEN GRAPH *** -->
    <meta property="og:title" content="{{ PAGE_TITLE }}">
    <meta property="og:description" content="{{ META_DESCRIPTION }}">
    <meta property="og:image" content="{{ IMAGE_URL }}">
    <meta property="og:url" content="{{ CANONICAL_URL }}">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="{{ SITE_NAME }}">
    {% if PUBLISH_ISO_FOR_META %}
    <meta property="article:published_time" content="{{ PUBLISH_ISO_FOR_META }}">
    <meta property="article:modified_time" content="{{ PUBLISH_ISO_FOR_META }}">
    {% endif %}
    {% for tag in META_KEYWORDS_LIST %}
    <meta property="article:tag" content="{{ tag }}">
    {% endfor %}

    <!-- *** TWITTER CARD *** -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ PAGE_TITLE }}">
    <meta name="twitter:description" content="{{ META_DESCRIPTION }}">
    <meta name="twitter:image" content="{{ IMAGE_URL }}">

    <!-- *** Stylesheets & Icons *** -->
    <link rel="stylesheet" href="../css/styles.css"> <!-- Relative path from articles/ to public/css/ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" type="image/png" href="https://i.ibb.co/W7xMqdT/dacoola-image-logo.png"> 

    <!-- *** Google AdSense Main Script *** -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8839663991354998"
     crossorigin="anonymous"></script>

    <!-- *** JSON-LD Structured Data *** -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "NewsArticle",
      "headline": "{{ ARTICLE_SEO_H1 | default(ARTICLE_HEADLINE) | escapejs }}",
      "description": "{{ META_DESCRIPTION | escapejs }}",
      "keywords": {{ META_KEYWORDS_LIST | tojson | safe }},
      "mainEntityOfPage": { "@type": "WebPage", "@id": "{{ CANONICAL_URL | escapejs }}" },
      "image": [
        {
          "@type": "ImageObject",
          "url": "{{ IMAGE_URL | escapejs }}"
        }
      ],
      "datePublished": "{{ PUBLISH_ISO_FOR_META }}",
      "dateModified": "{{ PUBLISH_ISO_FOR_META }}",
      "author": { "@type": "Person", "name": "{{ AUTHOR_NAME | default('AI News Team') | escapejs }}" },
      "publisher": {
        "@type": "Organization",
        "name": "{{ SITE_NAME | escapejs }}",
        "logo": { "@type": "ImageObject", "url": "{{ YOUR_WEBSITE_LOGO_URL | escapejs }}" }
      }
    }
    </script>

    <!-- Google Analytics (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WGJ5MFBC6X"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-WGJ5MFBC6X');
    </script>
    <style>
        .ad-placeholder-style { text-align: center; min-height: 90px; } /* Basic styling for ad containers */
        .article-ad-slot-top { margin: 20px 0; }
        .article-ad-slot-incontent { margin: 25px 0; } /* For the <!-- DACCOOLA_IN_ARTICLE_AD_HERE --> replaced ad */
        .article-ad-slot-above-faq { margin: 25px 0; }
        .article-ad-slot-bottom-page { margin: 30px auto; max-width: 1200px; padding: 0 15px; }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WSLDZ2QB"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <header id="navbar-placeholder">
        <!-- Navbar loaded by JS -->
    </header>

    <div class="site-content-wrapper">
        <div class="main-content-grid">

            <aside class="sidebar related-news">
                <h2>Related News</h2>
                <div id="related-news-content">
                    <p class="placeholder">Loading related news...</p>
                </div>
            </aside>

            <article class="main-article"
                data-article-id="{{ CURRENT_ARTICLE_ID }}"
                data-article-topic="{{ CURRENT_ARTICLE_TOPIC }}"
                data-article-tags='{{ CURRENT_ARTICLE_TAGS_JSON | default("[]") | safe }}'
                data-audio-url="{{ AUDIO_URL or '' }}">

                <header>
                    <h1 id="article-headline">{{ ARTICLE_SEO_H1 | default(ARTICLE_HEADLINE) }}</h1>
                    <div class="article-meta-container">
                        <div class="article-meta">
                            Published on <span id="publish-date">{{ PUBLISH_DATE }}</span>
                            by <span id="author-name">{{ AUTHOR_NAME | default('AI News Team') }}</span>
                            {% if SOURCE_ARTICLE_URL and SOURCE_ARTICLE_URL != '#' %}
                            <span class="article-source-inline">
                                  |   <a href="{{ SOURCE_ARTICLE_URL }}" target="_blank" rel="noopener noreferrer" class="article-source-inline-link" title="View original source article">View Original Source</a>
                            </span>
                            {% endif %}
                        </div>
                    </div>
                </header>

                <!-- Ad Slot 1: Wide Ad - Under Meta, Above Image -->
                <div class="ad-placeholder-style article-ad-slot-top">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-8839663991354998"
                         data-ad-slot="1948351346" 
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                {% if IMAGE_URL %}
                <figure class="article-image-container">
                    <img id="article-image" src="{{ IMAGE_URL }}" alt="{{ IMAGE_ALT_TEXT | default(ARTICLE_HEADLINE) }}">
                </figure>
                {% endif %}

                <section id="article-body">
                    {# Define the HTML for the dynamically placed in-article ad #}
                    {% set ইন_আর্টিকেল_এড_এইচটিএমএল %}
                        <div class="ad-placeholder-style article-ad-slot-incontent">
                            <ins class="adsbygoogle"
                                 style="display:block"
                                 data-ad-client="ca-pub-8839663991354998"
                                 data-ad-slot="1948351346" {# Use wide ad slot, or a specific in-article slot ID #}
                                 data-ad-format="auto" 
                                 data-full-width-responsive="true"></ins>
                            <script>
                                 (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        </div>
                    {% endset %}

                    {# Process the main body, replacing the placeholder for the dynamic in-article ad #}
                    {% set processed_body_with_dynamic_ad = ARTICLE_BODY_HTML | replace('<!-- DACCOOLA_IN_ARTICLE_AD_HERE -->', ইন_আর্টিকেল_এড_এইচটিএমএল) %}

                    {# Now, check if FAQ section exists in this processed body to place an ad before it #}
                    {% set faq_heading_html_marker = '<h4>Frequently Asked Questions</h4>' %} {# This is how Markdown renders `#### Title` #}
                    
                    {% if faq_heading_html_marker in processed_body_with_dynamic_ad %}
                        {% set body_parts = processed_body_with_dynamic_ad.split(faq_heading_html_marker, 1) %}
                        {{ body_parts[0] | safe }} {# Content before FAQ #}

                        <!-- Ad Slot 2: Fixed Wide Ad - Above FAQ section (if FAQ exists) -->
                        <div class="ad-placeholder-style article-ad-slot-above-faq">
                            <ins class="adsbygoogle"
                                 style="display:block"
                                 data-ad-client="ca-pub-8839663991354998"
                                 data-ad-slot="1948351346" {# Wide ad slot #}
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                            <script>
                                 (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        </div>

                        {{ faq_heading_html_marker | safe }} {# The FAQ heading itself #}
                        {{ body_parts[1] | safe }}      {# Content of FAQ and anything after it #}
                    {% else %}
                        {{ processed_body_with_dynamic_ad | safe }} {# No FAQ found, render body as is (with dynamic ad if placeholder was present) #}
                    {% endif %}
                </section>

                {% if ARTICLE_TAGS_HTML %}
                <footer>
                    <div class="tags">
                        Tags: <span id="article-tags">{{ ARTICLE_TAGS_HTML | safe }}</span>
                    </div>
                </footer>
                {% endif %}
            </article>

            <aside class="sidebar latest-news">
                <h2>Latest News</h2>
                <div id="latest-news-content">
                    <p class="placeholder">Loading latest news...</p>
                </div>
            </aside>

        </div> <!-- End main-content-grid -->

        <!-- Ad Slot 3: Grid Suggestions Ad - At the bottom of the page, after main content grid -->
        <div class="ad-placeholder-style article-ad-slot-bottom-page">
             <ins class="adsbygoogle"
                  style="display:block"
                  data-ad-format="autorelaxed"
                  data-ad-client="ca-pub-8839663991354998"
                  data-ad-slot="6562367864"></ins> {# Grid suggestions slot ID #}
             <script>
                  (adsbygoogle = window.adsbygoogle || []).push({});
             </script>
        </div>

    </div> <!-- End site-content-wrapper -->

    <button id="global-tts-player-button" title="Listen to article (Browser TTS)" aria-label="Listen to main article content">
        <i class="fas fa-headphones" aria-hidden="true"></i>
    </button>
    
    <script src="../js/script.js"></script> 

</body>
</html>